FROM centos:8
LABEL maintainer=henri@dhcpy6d.de

# replace non-existent-anymore CentOS repos
RUN sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-*

# get build requirements
RUN yum -y install createrepo \
                   git \
                   gpg \
                   python3-devel \
                   python3-docutils \
                   rpm-build \
                   rpm-sign \
                   sudo \
                   which

# Default build action
#CMD cd /dhcpy6d && \
#    /bin/bash build.sh

# flexible entrypoint, mounted as volume
ENTRYPOINT ["/entrypoint.sh"]